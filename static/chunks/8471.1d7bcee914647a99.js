(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8471],{48471:function(e,s,t){"use strict";t.r(s),t.d(s,{DefaultChat:function(){return x}});var l=t(97458),a=t(52983),r=t(56477),o=t.n(r),n=t(23870),c=t(18212),_=t(32180),i=t.n(_),d=t(67986),m=t(43967),f=t(57287),h=t(98362),u=t(85927);let p=e=>{let{messages:s,userId:t,getMoreMessages:r,roomId:_}=e,i=(0,m.Ji)(_),d=(0,a.useRef)(),{subscribes:f}=(0,u._)();return(0,m.MQ)({callback:r,wrapperRef:i.containerRef,triggerRef:d}),(0,a.useEffect)(()=>{f.onAddMessage(()=>{i.scrollToBottom(),setTimeout(i.scrollToBottom,550)})},[]),(0,a.useEffect)(i.rememberContainerScroll,[s]),(0,l.jsxs)("div",{className:o().messages_block,children:[(0,l.jsxs)("div",{className:o().messages_wrapper,onScroll:i.onScroll,ref:i.containerRef,children:[(0,l.jsx)(c.sS,{when:s.length,children:(0,l.jsx)("div",{ref:d})}),s.map(e=>(0,l.jsx)(c.sS,{when:e.roomId===_,children:(0,l.jsx)(n.v0,{message:e,isMine:e.senderId===t})},e.messageId)),(0,l.jsx)("div",{ref:i.bottomRef})]}),(0,l.jsx)("div",{className:o().bottomWrapper,children:(0,l.jsx)(c.sS,{when:i.scrollBottomSize>100,children:(0,l.jsx)(n.aK,{onClick:i.scrollToBottom})})})]})},x=()=>{let e=(0,m.KS)(300),{t:s}=(0,h.$G)();return(0,l.jsx)(c.sS,{when:e,children:(0,l.jsxs)(c.xM,{className:o().default_container,children:[(0,l.jsx)("div",{className:o().default_chat_image,children:(0,l.jsx)(f.avz,{})}),(0,l.jsxs)("h2",{className:o().default_title,children:[s("Choose a chat or create a"),(0,l.jsx)(i(),{href:d._.USERS,children:(0,l.jsxs)("span",{children:[" ",s("new one")]})})]})]})})};s.default=p},56477:function(e){e.exports={messages_block:"style_messages_block__gDwSV",messages_wrapper:"style_messages_wrapper__Bo_dp",scrollToBottom:"style_scrollToBottom__n1Lxx",default_container:"style_default_container__gMYZ_",bottomWrapper:"style_bottomWrapper__ClUl1",default_chat_image:"style_default_chat_image__W7LEu",default_title:"style_default_title__pTFnf"}}}]);