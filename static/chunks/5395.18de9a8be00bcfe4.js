"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5395],{3050:function(e,s,t){t.d(s,{Q:function(){return c},Z:function(){return m}});var r=t(97458),u=t(52983),n=t(20595);let a=(0,u.memo)(()=>(0,r.jsx)("div",{children:(0,r.jsx)(n.RB5,{color:"#8B96A5",size:"24px"})}));var c=a,o=t(66026),l=t(26503),i=t(17418),d=t(12412);let f=(0,u.memo)(()=>{let{reg:e,watch:s,getValues:t}=(0,l.cI)(null),n=(0,i.I0)(),a=(0,u.useCallback)(()=>{let e=t().search;n(d._I.changeRoomsFilter(e))},[]);return(0,u.useEffect)(()=>{let e=s(a);return()=>e.unsubscribe()},[]),(0,r.jsx)("div",{style:{width:"90%",margin:"0 auto"},children:(0,r.jsx)(o.Mj,{values:e("search")})})});var m=f},90156:function(e,s,t){t.d(s,{A:function(){return c},c:function(){return o}});var r=t(17418),u=t(43),n=t(12412),a=t(3606);let c=(0,r.L3)("messenger/GET_ROOMS",async(e,s)=>{let{dispatch:t,extra:r,getState:c,rejectWithValue:o}=s,l=a.ce.userId(c()),i=await r.api.messenger.getRooms(l);if((0,u.VZ)(i))return o("An error occurred.");t(n._I.setRooms(i.data))}),o=(0,r.L3)("messenger/SELECT_ROOM",async(e,s)=>{let{dispatch:t,extra:r,getState:c}=s,o=a.ce.userId(c()),l=await r.api.messenger.selectRoom(e,o);(0,u.VZ)(l)||t(n._I.setMessages(l.data))})},45395:function(e,s,t){t.r(s);var r=t(97458),u=t(52983),n=t(35505),a=t(3050),c=t(73449),o=t(26503),l=t(48530),i=t(17418),d=t(90156),f=t(12412),m=t(63314);let _=(0,u.memo)(()=>{let e=(0,i.v9)(f.oA),s=(0,i.v9)(f._5.selectedId),t=(0,i.v9)(f._5.userStatus),_=(0,c.useRouter)(),I=_.query.targetId,{actions:h,subscribes:g}=(0,l._)(),v=(0,m.s)(),b=(0,i.I0)();return(0,o.El)(()=>{g.onAddGroup(e=>{b(f._I.addRoom(e))}),h.startChat(I)},[I]),(0,u.useEffect)(()=>{v.actions.subscribeToStatus(null==e?void 0:e.userId)},[s,e]),(0,u.useEffect)(()=>(b((0,d.A)()),v.subscribes.onStatusChanged(e=>{b(f._I.changeUserStatus(e))}),()=>{b(f._I.clearMessenger())}),[]),(0,r.jsx)(n.zZ,{Search:a.Q,user:e,label:t})});s.default=_}}]);