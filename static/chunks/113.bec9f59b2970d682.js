(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[113],{11631:function(e,s,a){"use strict";a.d(s,{A:function(){return d},c:function(){return m}});var n=a(17418),r=a(43),t=a(12412),c=a(3606);let d=(0,n.L3)("messenger/GET_ROOMS",async(e,s)=>{let{dispatch:a,extra:n,getState:d}=s,m=c.ce.userId(d()),_=await n.api.messenger.getRooms(m);(0,r.VZ)(_)||a(t._I.setRooms(_.data))}),m=(0,n.L3)("messenger/SELECT_ROOM",async(e,s)=>{let{dispatch:a,extra:n,getState:d}=s,m=c.ce.userId(d()),_=await n.api.messenger.selectRoom(e,m);(0,r.VZ)(_)||a(t._I.setMessages(_.data))})},88113:function(e,s,a){"use strict";a.r(s);var n=a(97458),r=a(52983),t=a(31561),c=a.n(t),d=a(98901),m=a(26503),_=a(17418),i=a(11631),u=a(44796),l=a(82239),o=a(12412),g=a(48530),p=a(3606),I=a(46709);let f=(0,r.memo)(()=>{let e=(0,_.I0)(),s=(0,_.v9)(o._5.messages),a=(0,_.v9)(o._5.selectedId),t=(0,_.v9)(p.ce.userId),{actions:f,subscribes:R}=(0,g._)();return(0,r.useEffect)(()=>{R.onAddMessage(s=>{e(o._I.addMessage(s)),f.makeMessagesRead(s)}),R.onMessagesRead(()=>{e(o._I.makeMessagesRead())})},[]),(0,m.El)(()=>{e(o._I.clearRoom()),f.subscribeToRoom(a),e((0,i.c)(a))},[a]),(0,n.jsx)("div",{className:c().messages_main,children:(0,n.jsxs)("div",{className:c().wrapper,children:[(0,n.jsxs)(u.sS,{when:a,children:[(0,n.jsx)(d.cF,{messages:s,userId:t}),(0,n.jsx)(l.Z,{})]}),(0,n.jsx)(u.sS,{when:!a,children:(0,n.jsx)(I.K,{})})]})})});s.default=f},31561:function(e){e.exports={messages_main:"style_messages_main__UiS2u",wrapper:"style_wrapper__DSPKV"}}}]);