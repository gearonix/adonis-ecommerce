"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5395],{3050:function(e,s,t){t.d(s,{Q:function(){return c},Z:function(){return f}});var r=t(97458),n=t(52983),u=t(20595);let a=(0,n.memo)(()=>(0,r.jsx)("div",{children:(0,r.jsx)(u.RB5,{color:"#8B96A5",size:"24px"})}));var c=a,o=t(76128),l=t(45215),i=t(17418),d=t(12412);let m=(0,n.memo)(()=>{let{reg:e,watch:s,getValues:t}=(0,l.cI)(null),u=(0,i.I0)(),a=(0,n.useCallback)(()=>{let e=t().search;u(d._I.changeRoomsFilter(e))},[]);return(0,n.useEffect)(()=>{let e=s(a);return()=>e.unsubscribe()},[]),(0,r.jsx)("div",{style:{width:"90%",margin:"0 auto",marginBottom:"6px"},children:(0,r.jsx)(o.Mj,{values:e("search")})})});var f=m},90156:function(e,s,t){t.d(s,{A:function(){return c},c:function(){return o}});var r=t(17418),n=t(43),u=t(12412),a=t(3606);let c=(0,r.L3)("messenger/GET_ROOMS",async(e,s)=>{let{dispatch:t,extra:r,getState:c,rejectWithValue:o}=s,l=a.ce.userId(c()),i=await r.api.messenger.getRooms(l);if((0,n.VZ)(i))return o("An error occurred.");t(u._I.setRooms(i.data))}),o=(0,r.L3)("messenger/SELECT_ROOM",async(e,s)=>{let{dispatch:t,extra:r,getState:c}=s,o=a.ce.userId(c()),l=await r.api.messenger.selectRoom(e,o);(0,n.VZ)(l)||t(u._I.setMessages(l.data))})},45395:function(e,s,t){t.r(s);var r=t(97458),n=t(52983),u=t(35505),a=t(3050),c=t(73449),o=t(45215),l=t(48530),i=t(17418),d=t(90156),m=t(12412),f=t(63314),h=t(44796);let I=(0,n.memo)(()=>{let e=(0,i.v9)(m.oA),s=(0,i.v9)(m._5.selectedId),t=(0,i.v9)(m._5.userStatus),I=(0,c.useRouter)(),_=I.query.targetId,{actions:g,subscribes:v}=(0,l._)(),b=(0,f.s)(),E=(0,i.I0)();return(0,o.El)(()=>{v.onAddGroup(e=>{E(m._I.addRoom(e))}),g.startChat(_)},[_]),(0,n.useEffect)(()=>{b.actions.subscribeToStatus(null==e?void 0:e.userId)},[s,e]),(0,n.useEffect)(()=>(E((0,d.A)()),b.subscribes.onStatusChanged(e=>{E(m._I.changeUserStatus(e))}),()=>{E(m._I.clearMessenger())}),[]),(0,r.jsx)(h.sS,{when:null==e?void 0:e.userId,children:(0,r.jsx)(u.zZ,{Search:a.Q,user:e,label:t})})});s.default=I}}]);